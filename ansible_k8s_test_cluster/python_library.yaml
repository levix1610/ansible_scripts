# This is to install python libraries to primary first node in order to interprate the deploy_applications.yaml

---
- name: python_library
  hosts: k8s_control_plane[0]
  become: yes

  tasks:
    # Install pip packages
    - name: Ensure python3-pip is installed
      ansible.builtin.apt:
        name: python3-pip
        state: present
        update_cache: yes

    # Install Libraries
    - name: Ensure Kubernetes Python library is installed
      ansible.builtin.pip:
        name: Kubernetes
        state: present
        extra_args: "--break-system-packages"
        
